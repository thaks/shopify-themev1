{% liquid
  if section.settings.heading_style == 'light'
    assign rich_text_class = 'text-white'
  else
    assign rich_text_class = 'text-navy'
  endif
%}

{%- render 'text-banner',
  class: rich_text_class,
  heading: section.settings.heading,
  subheading: section.settings.subheading,
  content: section.settings.content,
  image_position: section.settings.image_position,
  image: section.settings.image,
  image_alt: section.settings.image_alt,
  preserve_aspect_ratio: true,
  blocks: section.blocks,
  link_text: section.settings.link_text,
  link_url: section.settings.link_url,
  link_style: section.settings.link_style
-%}

{% schema %}
{
  "name": "Shoppable Banner",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "select",
      "id": "heading_style",
      "label": "Heading Style",
      "default": "light",
      "options": [
        {
          "value": "light",
          "label": "Light"
        },
        {
          "value": "dark",
          "label": "Dark"
        },
        {
          "value": "alt",
          "label": "Alternate"
        }
      ]
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content"
    },
    {
      "type": "text",
      "id": "link_text",
      "label": "Link Text"
    },
    {
      "type": "url",
      "id": "link_url",
      "label": "Link URL"
    },
    {
      "type": "select",
      "id": "link_style",
      "label": "Link Style",
      "default": "dark",
      "options": [
        {
          "value": "light",
          "label": "Light"
        },
        {
          "value": "dark",
          "label": "Dark"
        },
        {
          "value": "alt",
          "label": "Alternate"
        }
      ]
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "background",
          "label": "Background"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "none",
          "label": "None (Hidden)"
        }
      ]
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "image_alt",
      "label": "Image Alt"
    }
  ],
  "blocks": [
    {
      "name": "Shoppable Product",
      "type": "shoppable-product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "range",
          "id": "horizontal_position",
          "label": "Horizontal position",
          "min": 5,
          "max": 95,
          "step": 1,
          "unit": "%",
          "default": 15
        },
        {
          "type": "range",
          "id": "vertical_position",
          "label": "Vertical position",
          "min": 5,
          "max": 95,
          "step": 1,
          "unit": "%",
          "default": 15
        }
      ]
    }
  ]
}
{% endschema %}
